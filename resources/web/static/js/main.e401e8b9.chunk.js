(this["webpackJsonpelementum-web"]=this["webpackJsonpelementum-web"]||[]).push([[0],{183:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(63),i=n.n(a),l=n(16),s=n.n(l),o=n(27),u=n(15),j=n(72),d=n.n(j),b=n(149),h=n(151),O=n(206),x=n(205),f=n(200),p=n(97),v=n(185),g="refreshRate",m=function getRefreshRate(){var e=window.localStorage.getItem(g);return Number(null!==e&&void 0!==e?e:5e3)},C=n.p+"static/media/logo.4754a3cb.png",S=n(2),y=function HeaderMenu(){var e=Object(r.useState)((function(){return m()/1e3})),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(S.jsxs)(b.a,{borderless:!0,color:"green",style:{border:"none"},children:[Object(S.jsxs)(b.a.Item,{header:!0,as:"a",href:"/web",children:[Object(S.jsx)(h.a,{size:"mini",src:C}),"Elementum"]}),Object(S.jsxs)(O.a,{trigger:Object(S.jsx)(b.a.Item,{position:"right",children:"Settings"}),closeIcon:!0,children:[Object(S.jsx)(O.a.Header,{content:"Settings"}),Object(S.jsx)(O.a.Content,{children:Object(S.jsx)(x.a,{children:Object(S.jsx)(x.a.Group,{inline:!0,children:Object(S.jsxs)(x.a.Field,{children:[Object(S.jsx)("label",{htmlFor:"refresh-rate",children:"Refresh rate:"}),Object(S.jsxs)(f.a,{type:"number",min:"1",labelPosition:"right",value:n,onChange:function onChange(e,t){return c(Number(t.value))},children:[Object(S.jsx)("input",{id:"refresh-rate"}),Object(S.jsx)(p.a,{children:"Seconds"})]})]})})})}),Object(S.jsx)(O.a.Actions,{children:Object(S.jsx)(v.a,{onClick:function SaveSettings(e,t){!function saveRefreshRate(e){var t=e;window.localStorage.setItem(g,t.toString())}(1e3*(n<1?1:n)),window.location.reload()},positive:!0,children:"Save"})})]})]})},k=n(69),w=n(143),T=n(150),_=n(144),R=n(203),F=n(204),I=n(153),A=n(45),H=n(201),P=[{text:"Movies",value:"Movies",icon:"film"},{text:"TV Shows",value:"TvShows",icon:"tv"},{text:"General",value:"General",icon:"magnet"}],z={loading:!1,results:[],value:""};function queryReducer(e,t){switch(t.type){case"CleanQuery":return z;case"StartSearch":return Object(k.a)(Object(k.a)({},e),{},{loading:!0,value:t.query});case"FinishSearch":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,results:t.results});case"UpdateSelection":return Object(k.a)(Object(k.a)({},e),{},{value:t.selection})}}var M=function resultRenderer(e){var t,n,r,c,a=e;return Object(S.jsx)(w.a,{children:Object(S.jsxs)(T.a,{children:[Object(S.jsx)(T.a.Image,{size:"small",src:a.image}),Object(S.jsxs)(T.a.Content,{children:[Object(S.jsx)(T.a.Header,{children:a.title}),Object(S.jsx)(T.a.Meta,{children:a.tagline}),Object(S.jsx)(T.a.Description,{children:a.description}),"season"!==a.mediatype&&Object(S.jsx)(T.a.Extra,{children:"".concat(a.rating," - ").concat(null===(t=a.genre)||void 0===t?void 0:t.join(", ")," - ").concat(null!==(n=null!==(r=null===(c=a.date)||void 0===c?void 0:c.toString())&&void 0!==r?r:a.year)&&void 0!==n?n:"-")})]})]})})};function getSearchType(e){switch(e){case"Movies":return"movies";case"TvShows":return"shows";case"General":return"."}}function querySearchResults(e,t){return _querySearchResults.apply(this,arguments)}function _querySearchResults(){return(_querySearchResults=Object(o.a)(s.a.mark((function _callee4(e,t){var n,r;return s.a.wrap((function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch(e);case 2:return n=c.sent,c.next=5,n.json();case 5:r=c.sent.items,t({type:"FinishSearch",results:r.filter((function(e){return void 0!==e.info})).map((function(e){return{image:e.art.thumb,key:"".concat(e.info.code,"-").concat(e.label),description:e.info.plotoutline,title:e.label,tagline:e.info.tagline,year:e.info.year,date:e.info.date,genre:e.info.genre,rating:e.info.rating,mediatype:e.info.mediatype,path:e.path}}))});case 7:case"end":return c.stop()}}),_callee4)})))).apply(this,arguments)}var D=function Statistics(e){var t=e.totalDownloadRate,n=e.totalUploadRate,c=e.active,a=e.finished,i=e.total,l=Object(r.useState)("Movies"),j=Object(u.a)(l,2),d=j[0],b=j[1],h=Object(r.useRef)(),O=Object(r.useReducer)(queryReducer,z),x=Object(u.a)(O,2),f=x[0],p=x[1],v=f.loading,g=f.results,m=f.value,C=Object(H.a)(function(){var e=Object(o.a)(s.a.mark((function _callee(e){var t;return s.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return t=getSearchType(d),n.next=3,querySearchResults("/".concat(t,"/search?q=").concat(e),p);case 3:case"end":return n.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}(),300),y=function(){var e=Object(o.a)(s.a.mark((function _callee2(e){return s.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(p({type:"StartSearch",query:e}),0!==e.trim().length){t.next=4;break}return p({type:"CleanQuery"}),t.abrupt("return");case 4:return t.next=6,C(e);case 6:case"end":return t.stop()}}),_callee2)})));return function handleQueryChange(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(s.a.mark((function _callee3(e){var t,n;return s.a.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:t=e.path.replace("plugin://plugin.video.elementum/",""),n="/".concat(t,"?external=1"),r.t0=d,r.next="Movies"===r.t0?5:"TvShows"===r.t0?8:"General"===r.t0?18:19;break;case 5:return r.next=7,fetch(n);case 7:return r.abrupt("break",19);case 8:if(p({type:"StartSearch",query:m}),!t.includes("links")){r.next=14;break}return r.next=12,fetch(n);case 12:r.next=17;break;case 14:return r.next=16,querySearchResults(n,p);case 16:h.current.open();case 17:case 18:return r.abrupt("break",19);case 19:case"end":return r.stop()}}),_callee3)})));return function handleResultSelect(t){return e.apply(this,arguments)}}();return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(_.a,{padded:"horizontally",stackable:!0,columns:"3",children:Object(S.jsxs)(_.a.Row,{verticalAlign:"middle",children:[Object(S.jsx)(_.a.Column,{floated:"left",children:Object(S.jsx)(R.a,{fluid:!0,placeholder:"Search",loading:v,results:g,value:m,onSearchChange:function onSearchChange(e,t){var n;return y(null!==(n=t.value)&&void 0!==n?n:"")},resultRenderer:M,onResultSelect:function onResultSelect(e,t){return k(t.result)},ref:h,minCharacters:3,input:{icon:"search",action:Object(S.jsx)(F.a,{fluid:!0,selection:!0,options:P,defaultValue:P[0].value,onChange:function onChange(e,t){return function handleTorrentTypeChange(e){b(e),p({type:"CleanQuery"})}(t.value)}})}})}),Object(S.jsx)(_.a.Column,{width:"3",children:Object(S.jsxs)(I.a.Group,{widths:"3",size:"tiny",children:[Object(S.jsxs)(I.a,{children:[Object(S.jsx)(I.a.Value,{children:c}),Object(S.jsx)(I.a.Label,{children:"Active"})]}),Object(S.jsxs)(I.a,{children:[Object(S.jsx)(I.a.Value,{children:a}),Object(S.jsx)(I.a.Label,{children:"Finished"})]}),Object(S.jsxs)(I.a,{children:[Object(S.jsx)(I.a.Value,{children:i}),Object(S.jsx)(I.a.Label,{children:"Total"})]})]})}),Object(S.jsx)(_.a.Column,{floated:"right",children:Object(S.jsxs)(I.a.Group,{widths:"2",size:"tiny",children:[Object(S.jsx)(I.a,{children:Object(S.jsxs)(I.a.Value,{children:[Object(S.jsx)(A.a,{name:"arrow down",size:"small"})," ".concat(t.toFixed(1)," kB/s")]})}),Object(S.jsx)(I.a,{children:Object(S.jsxs)(I.a.Value,{children:[Object(S.jsx)(A.a,{name:"arrow up",size:"small"})," ".concat(n.toFixed(1)," kB/s")]})})]})})]})})})},q=n(152),E=n(207),$=n(214),G=n(202),L=n(209),N=function DeleteTorrentModal(e){var t=e.torrentIdsToDelete,n=Object(r.useState)(!1),c=Object(u.a)(n,2),a=c[0],i=c[1],l=Object(r.useState)(!1),s=Object(u.a)(l,2),o=s[0],j=s[1],d=0!==t.length;return Object(S.jsxs)(O.a,{onClose:function onClose(){return i(!1)},open:a,trigger:Object(S.jsx)(G.a,{trigger:Object(S.jsx)("div",{style:{display:"inline-block"},children:Object(S.jsx)(v.a,{content:"Delete",disabled:!d,onClick:function onClick(e,t){return i(!0)}})}),content:"Select at least 1 torrent",disabled:d,closeOnTriggerClick:!1,inverted:!0}),children:[Object(S.jsx)(O.a.Header,{children:"Delete Torrent"}),Object(S.jsx)(O.a.Content,{children:Object(S.jsxs)(O.a.Description,{children:["Are you sure?",Object(S.jsx)("br",{}),Object(S.jsx)(L.a,{negative:!0,children:Object(S.jsx)($.a,{label:"Also delete files",onChange:function onChange(e,t){var n;return j(null!==(n=t.checked)&&void 0!==n&&n)}})})]})}),Object(S.jsxs)(O.a.Actions,{children:[Object(S.jsx)(v.a,{content:"No",icon:"undo",onClick:function onClick(){return i(!1)}}),Object(S.jsx)(v.a,{content:"Yes",icon:"trash",color:"red",onClick:function onClick(){return function deleteSelectedTorrents(){t.map((function(e){return fetch("/torrents/delete/".concat(e,"?files=").concat(o))})),i(!1)}()}})]})]})};var V=function UploadTorrentModal(){var e=c.a.useState(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],a=c.a.useState(""),i=Object(u.a)(a,2),l=i[0],j=i[1],d=c.a.useState(),b=Object(u.a)(d,2),h=b[0],f=b[1];function addTorrent(e,t){return _addTorrent.apply(this,arguments)}function _addTorrent(){return(_addTorrent=Object(o.a)(s.a.mark((function _callee(e,t){var n;return s.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return(n=new FormData).append("uri",l),n.append("file",null!==h&&void 0!==h?h:"null"),null===t||void 0===t||t.forEach((function(e){return n.append(e[0],e[1])})),c.next=6,fetch(e,{method:"POST",body:n});case 6:r(!1);case 7:case"end":return c.stop()}}),_callee)})))).apply(this,arguments)}return Object(S.jsxs)(O.a,{onClose:function onClose(){return r(!1)},onOpen:function onOpen(){return r(!0)},open:n,trigger:Object(S.jsxs)(v.a,{icon:!0,labelPosition:"left",floated:"right",primary:!0,children:[Object(S.jsx)(A.a,{name:"download"}),"Add Torrent"]}),children:[Object(S.jsx)(O.a.Header,{children:"Add Torrent"}),Object(S.jsx)(O.a.Content,{children:Object(S.jsx)(O.a.Description,{children:Object(S.jsxs)(x.a,{children:[Object(S.jsx)(x.a.Input,{placeholder:"Magnet or Torrent file URL",onChange:function onChange(e){return j(e.target.value)}}),Object(S.jsx)(x.a.Input,{type:"file",accept:".torrent",onChange:function onChange(e){var t,n;return f(null!==(t=null===(n=e.target.files)||void 0===n?void 0:n.item(0))&&void 0!==t?t:void 0)}})]})})}),Object(S.jsxs)(O.a.Actions,{children:[Object(S.jsx)(v.a,{content:"Cancel",color:"red",onClick:function onClick(){return r(!1)}}),Object(S.jsx)(v.a,{content:"Add (all files)",labelPosition:"left",icon:"download",color:"yellow",onClick:function onClick(){return addTorrent("/torrents/add",[["all","1"]])}}),Object(S.jsx)(v.a,{content:"Add",labelPosition:"left",icon:"download",color:"blue",onClick:function onClick(){return addTorrent("/torrents/add")}}),Object(S.jsx)(v.a,{content:"Stream",labelPosition:"left",icon:"play",color:"green",onClick:function onClick(){return addTorrent("/playuri")}})]})]})},B=n(210),U=n(146),Q=n(131),J=function TorrentListItem(e){var t=e.torrent,n=e.isClicked,r=e.isChecked,c=e.onSelect,a=e.onClick,i="Finished"!==t.status&&"Paused"!==t.status,l=i?"green":"grey",u=function(){var e=Object(o.a)(s.a.mark((function _callee(e,n){var r,c;return s.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e.stopPropagation(),r=n.checked,c=r?"resume":"pause",a.next=5,fetch("/torrents/".concat(c,"/").concat(t.id));case 5:case"end":return a.stop()}}),_callee)})));return function onResumePause(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(s.a.mark((function _callee2(e,n){return s.a.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return e.stopPropagation(),n.next=3,fetch("/playuri?resume=".concat(t.id));case 3:case"end":return n.stop()}}),_callee2)})));return function onPlay(t,n){return e.apply(this,arguments)}}();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(E.a.Row,{onClick:function onClick(){return a(n?void 0:t)},active:n,children:[Object(S.jsx)(E.a.Cell,{collapsing:!0,textAlign:"center",children:Object(S.jsx)($.a,{toggle:!0,onChange:u,checked:i})}),Object(S.jsx)(E.a.Cell,{collapsing:!0,textAlign:"center",children:Object(S.jsx)($.a,{checked:r,onChange:function onCheckboxClick(e,n){var r;e.stopPropagation(),c(t.id,null!==(r=n.checked)&&void 0!==r&&r)}})}),Object(S.jsx)(E.a.Cell,{collapsing:!0,children:Object(S.jsx)(v.a,{color:"green",icon:"play",floated:"right",onClick:j})}),Object(S.jsx)(E.a.Cell,{children:t.name}),Object(S.jsx)(E.a.Cell,{children:Object(S.jsx)(G.a,{content:"".concat(t.progress.toFixed(2),"%"),trigger:Object(S.jsx)(B.a,{percent:t.progress,autoSuccess:!0,size:"small"})})}),Object(S.jsx)(E.a.Cell,{collapsing:!0,textAlign:"center",children:Object(S.jsx)(p.a,{color:l,children:t.status})}),Object(S.jsx)(E.a.Cell,{children:Object(S.jsxs)(U.a,{size:"mini",widths:"2",children:[Object(S.jsx)(I.a,{value:t.ratio.toFixed(2),label:"Seed ratio"}),Object(S.jsx)(G.a,{content:"Seed time: ".concat(t.seeding_time),trigger:Object(S.jsx)(I.a,{value:"".concat(t.time_ratio.toFixed(2)),label:"Time ratio"})})]})}),Object(S.jsx)(E.a.Cell,{textAlign:"center",children:Object(S.jsx)(p.a,{children:t.size})}),Object(S.jsx)(E.a.Cell,{children:Object(S.jsxs)(U.a,{widths:"2",size:"mini",children:[Object(S.jsx)(I.a,{children:Object(S.jsxs)(Q.a,{children:[Object(S.jsx)(A.a,{name:"arrow down",size:"small"})," ".concat(t.download_rate.toFixed(2)," kB/s")]})}),Object(S.jsx)(I.a,{children:Object(S.jsxs)(Q.a,{children:[Object(S.jsx)(A.a,{name:"arrow up",size:"small"})," ".concat(t.upload_rate.toFixed(2)," kB/s")]})})]})}),Object(S.jsx)(E.a.Cell,{children:Object(S.jsx)(U.a,{widths:"1",size:"mini",children:Object(S.jsx)(I.a,{value:"".concat(t.seeders," / ").concat(t.seeders_total),label:"Active / Total"})})}),Object(S.jsx)(E.a.Cell,{children:Object(S.jsx)(U.a,{widths:"1",size:"mini",children:Object(S.jsx)(I.a,{value:"".concat(t.peers," / ").concat(t.peers_total),label:"Active / Total"})})})]})})},W=c.a.memo(J,d.a),Y=function TorrentList(e){var t=e.torrents,n=e.activeTorrent,c=e.onSetActiveTorrent,a=Object(r.useState)([]),i=Object(u.a)(a,2),l=i[0],s=i[1],o=Object(r.useCallback)((function(e,t){s(t?function(t){return[].concat(Object(q.a)(t),[e])}:function(t){return t.filter((function(t){return t!==e}))})}),[]);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(E.a,{compact:"very",size:"small",stackable:!0,children:[Object(S.jsx)(E.a.Header,{className:"mobile-hidden",children:Object(S.jsxs)(E.a.Row,{children:[Object(S.jsx)(E.a.HeaderCell,{}),Object(S.jsx)(E.a.HeaderCell,{children:Object(S.jsx)($.a,{onChange:function onChange(e,n){var r;return function onAllTorrentsSelected(e){s(e?t.map((function(e){return e.id})):[])}(null!==(r=n.checked)&&void 0!==r&&r)},checked:l.length>=t.length})}),Object(S.jsx)(E.a.HeaderCell,{}),Object(S.jsx)(E.a.HeaderCell,{children:"Name"}),Object(S.jsx)(E.a.HeaderCell,{children:"Progress"}),Object(S.jsx)(E.a.HeaderCell,{children:"Status"}),Object(S.jsx)(E.a.HeaderCell,{children:"Ratios"}),Object(S.jsx)(E.a.HeaderCell,{children:"Size"}),Object(S.jsx)(E.a.HeaderCell,{children:"Rates"}),Object(S.jsx)(E.a.HeaderCell,{children:"Seeds"}),Object(S.jsx)(E.a.HeaderCell,{children:"Peers"})]})}),Object(S.jsx)(E.a.Body,{children:t.map((function(e){return Object(S.jsx)(W,{torrent:e,onSelect:o,onClick:c,isClicked:(null===n||void 0===n?void 0:n.id)===e.id,isChecked:l.includes(e.id)},e.id)}))}),Object(S.jsx)(E.a.Footer,{fullWidth:!0,children:Object(S.jsxs)(E.a.Row,{children:[Object(S.jsx)(E.a.HeaderCell,{}),Object(S.jsxs)(E.a.HeaderCell,{colSpan:10,children:[Object(S.jsx)(V,{}),Object(S.jsx)(N,{torrentIdsToDelete:l})]})]})})]})})},K=n(208),X=n(211),Z=n(145),ee=n(91),te=n(148),ne=n(147),re=function PieceMap(e){var t=e.pieces,n=Object(r.useRef)(null),c=Object(r.useRef)(null),a=Object(ne.a)({ref:c}).width,i=Object(te.useDebounce)(a,100,{trailing:!0}),l=Object(u.a)(i,1)[0];return Object(r.useEffect)((function(){if(l){var e=n.current;if(e){var r=e.getContext("2d");if(r){var a=c.current;a&&function draw(e,t,n){var r=e.clientWidth,c=Math.floor(r/9),a=9*Math.ceil(n.length/c),i=t.canvas;i.width=r,i.height=a;for(var l=0;l<n.length;l+=1){var s="+"===n[l]?"#4CAF50":"#ECEFF1";t.fillStyle=s,t.fillRect(l%c*9,9*Math.floor(l/c),8,8)}}(a,r,t)}}}}),[t,l]),Object(S.jsx)("div",{ref:c,children:Object(S.jsx)("canvas",{ref:n})})},ce=function renderFileTree(e){var t=function getFileTree(e){var t={};return e.forEach((function(e){for(var n=t,r=0;r<e.length;r+=1){var c=e[r];c in n||(n[c]={}),n=n[c]}})),t}(e);return Object(S.jsx)(K.a,{children:Object(S.jsx)(K.a.Item,{children:Object(S.jsx)(K.a.Content,{children:function renderTree(e){return Object.keys(e).map((function(t){var n=Object.keys(e[t]).length>0;return Object(S.jsx)(K.a.List,{children:Object(S.jsxs)(K.a.Item,{children:[Object(S.jsx)(K.a.Icon,{name:n?"folder":"file"}),Object(S.jsxs)(K.a.Content,{children:[n?Object(S.jsx)(K.a.Header,{children:t}):Object(S.jsx)(K.a.Description,{children:t}),renderTree(e[t])]})]})},t)}))}(t)})})})},ae=function TorrentInfo(e){var t=e.torrent,n=Object(r.useState)([]),c=Object(u.a)(n,2),a=c[0],i=c[1],l=Object(r.useState)(""),j=Object(u.a)(l,2),d=j[0],b=j[1],h=Object(r.useState)(!0),O=Object(u.a)(h,2),x=O[0],f=O[1];Object(r.useEffect)((function(){f(!0);var e=function(){var e=Object(o.a)(s.a.mark((function _callee(){var e,n,r,c,a,l,o;return s.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return e=new RegExp("".concat(t.id,".+?Files.+?:\\s+(?<files>.+?)\\n\\n.+?Pieces:\\s+(?<pieces>.+?)\\n\\n\\n"),"gs"),s.next=3,fetch("/info");case 3:return n=s.sent,s.next=6,n.text();case 6:if(r=s.sent,(c=e.exec(r))&&c.groups){s.next=10;break}return s.abrupt("return");case 10:a=c.groups,l=a.files,o=a.pieces,i(l.split("\n").map((function(e){return e.trim()}))),b(o.split("\n").map((function(e){return e.trim()})).join("")),f(!1);case 14:case"end":return s.stop()}}),_callee)})));return function getInfo(){return e.apply(this,arguments)}}();e();var n=setInterval((function(){e()}),m());return function(){return clearInterval(n)}}),[t.id]);var p=[{menuItem:{key:"general",content:"General"},render:function render(){return Object(S.jsx)(X.a.Pane,{children:Object(S.jsx)(_.a,{children:Object(S.jsx)(Z.a,{children:Object(S.jsxs)(ee.a,{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("b",{children:"Name:"})," ",t.name]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("b",{children:"Size:"})," ",t.size]})]})})})})}},{menuItem:{key:"files",content:"Files"},render:function render(){return Object(S.jsx)(X.a.Pane,{loading:x,children:Object(S.jsx)(_.a,{children:Object(S.jsx)(Z.a,{children:Object(S.jsx)(ee.a,{children:ce(a.map((function(e){return e.split("/")})))})})})})}},{menuItem:{key:"pieces",content:"Pieces"},render:function render(){return Object(S.jsx)(X.a.Pane,{loading:x,children:Object(S.jsx)(re,{pieces:d})})}}];return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(X.a,{panes:p})})};n(182),n(183);var ie=function App(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),i=Object(u.a)(a,2),l=i[0],j=i[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(o.a)(s.a.mark((function _callee(){var e,t;return s.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/torrents/list");case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,c((function(e){return d()(e,t)?e:t}));case 7:case"end":return n.stop()}}),_callee)})));return function getList(){return e.apply(this,arguments)}}();e();var t=setInterval((function(){e()}),m());return function(){return clearInterval(t)}}),[]),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(y,{}),Object(S.jsxs)("div",{children:[Object(S.jsx)(D,{totalDownloadRate:n.reduce((function(e,t){return e+t.download_rate}),0),totalUploadRate:n.reduce((function(e,t){return e+t.upload_rate}),0),active:n.filter((function(e){return"Finished"!==e.status})).length,finished:n.filter((function(e){return"Finished"===e.status})).length,total:n.length}),Object(S.jsx)(Y,{torrents:n,onSetActiveTorrent:j,activeTorrent:l}),void 0!==l&&Object(S.jsx)(ae,{torrent:l})]})]})};i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(ie,{})}),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.e401e8b9.chunk.js.map