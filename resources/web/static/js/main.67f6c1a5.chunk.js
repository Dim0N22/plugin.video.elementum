(this["webpackJsonpelementum-web"]=this["webpackJsonpelementum-web"]||[]).push([[0],{184:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(65),i=n.n(a),s=n(16),o=n.n(s),l=n(28),u=n(15),j=n(73),d=n.n(j),b=n(153),h=n(155),O=n(206),x=n(208),f=n(207),p=n(202),v=n(99),m=n(186),g="refreshRate",S=function(){var e=window.localStorage.getItem(g);return Number(null!==e&&void 0!==e?e:5e3)},w=n.p+"static/media/logo.4754a3cb.png",y=n(2),C=function(){var e=Object(c.useState)((function(){return S()/1e3})),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(y.jsxs)(b.a,{borderless:!0,style:{border:"none"},children:[Object(y.jsxs)(b.a.Item,{header:!0,as:"a",href:"/web",children:[Object(y.jsx)(h.a,{size:"mini",src:w}),"Elementum"]}),Object(y.jsx)(O.a,{item:!0,text:"Torrents",children:Object(y.jsxs)(O.a.Menu,{children:[Object(y.jsx)(O.a.Item,{icon:"download",text:"Start all",onClick:function(){fetch("/torrents/resume")}}),Object(y.jsx)(O.a.Item,{icon:"pause",text:"Pause all",onClick:function(){fetch("/torrents/pause")}})]})}),Object(y.jsxs)(x.a,{trigger:Object(y.jsx)(b.a.Item,{position:"right",children:"Settings"}),closeIcon:!0,children:[Object(y.jsx)(x.a.Header,{content:"Settings"}),Object(y.jsx)(x.a.Content,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(f.a.Group,{inline:!0,children:Object(y.jsxs)(f.a.Field,{children:[Object(y.jsx)("label",{htmlFor:"refresh-rate",children:"Refresh rate:"}),Object(y.jsxs)(p.a,{type:"number",min:"1",labelPosition:"right",value:n,onChange:function(e,t){return r(Number(t.value))},children:[Object(y.jsx)("input",{id:"refresh-rate"}),Object(y.jsx)(v.a,{children:"Seconds"})]})]})})})}),Object(y.jsx)(x.a.Actions,{children:Object(y.jsx)(m.a,{onClick:function(e,t){!function(e){var t=e;window.localStorage.setItem(g,t.toString())}(1e3*(n<1?1:n)),window.location.reload()},positive:!0,children:"Save"})})]})]})},k=n(36),F=n(146),T=n(154),R=n(147),A=n(205),_=n(149),E=n(51),P=n(203),I=[{text:"Movies",value:"Movies",icon:"film"},{text:"TV Shows",value:"TvShows",icon:"tv"},{text:"General",value:"General",icon:"magnet"}],z={loading:!1,results:[],value:""};function H(e,t){switch(t.type){case"CleanQuery":return z;case"StartSearch":return Object(k.a)(Object(k.a)({},e),{},{loading:!0,value:t.query});case"FinishSearch":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,results:t.results});case"UpdateSelection":return Object(k.a)(Object(k.a)({},e),{},{value:t.selection})}}var D=function(e){var t,n,c,r,a=e;return Object(y.jsx)(F.a,{children:Object(y.jsxs)(T.a,{children:[Object(y.jsx)(T.a.Image,{size:"small",src:a.image}),Object(y.jsxs)(T.a.Content,{children:[Object(y.jsx)(T.a.Header,{children:a.title}),Object(y.jsx)(T.a.Meta,{children:a.tagline}),Object(y.jsx)(T.a.Description,{children:a.description}),"season"!==a.mediatype&&Object(y.jsx)(T.a.Extra,{children:"".concat(a.rating," - ").concat(null===(t=a.genre)||void 0===t?void 0:t.join(", ")," - ").concat(null!==(n=null!==(c=null===(r=a.date)||void 0===r?void 0:r.toString())&&void 0!==c?c:a.year)&&void 0!==n?n:"-")})]})]})})};function N(e){switch(e){case"Movies":return"movies";case"TvShows":return"shows";case"General":return"."}}function G(e,t){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(o.a.mark((function e(t,n){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent.items,n({type:"FinishSearch",results:r.filter((function(e){return void 0!==e.info})).map((function(e){return{image:e.art.thumb,key:"".concat(e.info.code,"-").concat(e.label),description:e.info.plotoutline,title:e.label,tagline:e.info.tagline,year:e.info.year,date:e.info.date,genre:e.info.genre,rating:e.info.rating,mediatype:e.info.mediatype,path:e.path}}))});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){var t=e.totalDownloadRate,n=e.totalUploadRate,r=e.active,a=e.finished,i=e.total,s=Object(c.useState)("Movies"),j=Object(u.a)(s,2),d=j[0],b=j[1],h=Object(c.useRef)(),x=Object(c.useReducer)(H,z),f=Object(u.a)(x,2),p=f[0],v=f[1],m=p.loading,g=p.results,S=p.value,w=Object(P.a)(function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N(d),e.next=3,G("/".concat(n,"/search?q=").concat(t),v);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),500),C=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v({type:"StartSearch",query:t}),0!==t.trim().length){e.next=4;break}return v({type:"CleanQuery"}),e.abrupt("return");case 4:return e.next=6,w(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.path.replace("plugin://plugin.video.elementum/",""),c="/".concat(n,"?external=1"),e.t0=d,e.next="Movies"===e.t0?5:"TvShows"===e.t0?8:"General"===e.t0?18:19;break;case 5:return e.next=7,fetch(c);case 7:return e.abrupt("break",19);case 8:if(v({type:"StartSearch",query:S}),!n.includes("links")){e.next=14;break}return e.next=12,fetch(c);case 12:e.next=17;break;case 14:return e.next=16,G(c,v);case 16:h.current.open();case 17:case 18:return e.abrupt("break",19);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(R.a,{stackable:!0,columns:"3",children:Object(y.jsxs)(R.a.Row,{verticalAlign:"middle",children:[Object(y.jsx)(R.a.Column,{floated:"left",children:Object(y.jsx)(A.a,{fluid:!0,placeholder:"Search",loading:m,results:g,value:S,onSearchChange:function(e,t){var n;return C(null!==(n=t.value)&&void 0!==n?n:"")},resultRenderer:D,onResultSelect:function(e,t){return k(t.result)},ref:h,minCharacters:3,input:{icon:"search",action:Object(y.jsx)(O.a,{fluid:!0,selection:!0,options:I,defaultValue:I[0].value,onChange:function(e,t){return n=t.value,b(n),void v({type:"CleanQuery"});var n}})}})}),Object(y.jsx)(R.a.Column,{width:"3",children:Object(y.jsxs)(_.a.Group,{widths:"3",size:"tiny",children:[Object(y.jsxs)(_.a,{children:[Object(y.jsx)(_.a.Value,{children:r}),Object(y.jsx)(_.a.Label,{children:"Active"})]}),Object(y.jsxs)(_.a,{children:[Object(y.jsx)(_.a.Value,{children:a}),Object(y.jsx)(_.a.Label,{children:"Finished"})]}),Object(y.jsxs)(_.a,{children:[Object(y.jsx)(_.a.Value,{children:i}),Object(y.jsx)(_.a.Label,{children:"Total"})]})]})}),Object(y.jsx)(R.a.Column,{floated:"right",children:Object(y.jsxs)(_.a.Group,{widths:"2",size:"tiny",children:[Object(y.jsx)(_.a,{children:Object(y.jsxs)(_.a.Value,{children:[Object(y.jsx)(E.a,{name:"arrow down",size:"small"})," ".concat(t.toFixed(1)," kB/s")]})}),Object(y.jsx)(_.a,{children:Object(y.jsxs)(_.a.Value,{children:[Object(y.jsx)(E.a,{name:"arrow up",size:"small"})," ".concat(n.toFixed(1)," kB/s")]})})]})})]})})})},V=n(209),L=n(211),Q=n(204),U=n(212),q=n(217),J=function(e){var t=e.torrents,n=Object(c.useState)(!1),r=Object(u.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],j=o[1],d=t.length>0;return Object(y.jsxs)(x.a,{onClose:function(){return i(!1)},open:a,trigger:Object(y.jsx)(Q.a,{trigger:Object(y.jsx)("div",{style:{display:"inline-block"},children:Object(y.jsx)(m.a,{content:"Delete",disabled:!d,onClick:function(e,t){return i(!0)}})}),content:"Select a torrent first",disabled:d,closeOnTriggerClick:!1,inverted:!0}),children:[Object(y.jsxs)(x.a.Header,{children:[1===t.length?"Delete ".concat(t[0].name):"Delete ".concat(t.length," torrents?")," "]}),Object(y.jsx)(x.a.Content,{children:Object(y.jsxs)(x.a.Description,{children:["Are you sure you want to delete",1===t.length?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("b",{children:[" ",t[0].name]}),"?"]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(y.Fragment,{children:[" these ",t.length," torrents?"]}),Object(y.jsx)("ol",{children:t.map((function(e){return Object(y.jsx)("li",{children:Object(y.jsx)("b",{children:e.name})})}))})]}),Object(y.jsx)(U.a,{negative:!0,children:Object(y.jsx)(q.a,{label:"Also delete files",onChange:function(e,t){var n;return j(null!==(n=t.checked)&&void 0!==n&&n)}})})]})}),Object(y.jsxs)(x.a.Actions,{children:[Object(y.jsx)(m.a,{content:"No",icon:"undo",onClick:function(){return i(!1)}}),Object(y.jsx)(m.a,{content:"Yes",icon:"trash",color:"red",onClick:function(){return t.map((function(e){return fetch("/torrents/delete/".concat(e.id,"?files=").concat(l))})),void i(!1)}})]})]})};var K,W=function(){var e=r.a.useState(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],a=r.a.useState(""),i=Object(u.a)(a,2),s=i[0],j=i[1],d=r.a.useState(),b=Object(u.a)(d,2),h=b[0],O=b[1];function p(e,t){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("uri",s),r.append("file",null!==h&&void 0!==h?h:"null"),null===n||void 0===n||n.forEach((function(e){return r.append(e[0],e[1])})),e.next=6,fetch(t,{method:"POST",body:r});case 6:c(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)(x.a,{onClose:function(){return c(!1)},onOpen:function(){return c(!0)},open:n,trigger:Object(y.jsxs)(m.a,{icon:!0,labelPosition:"left",floated:"right",primary:!0,children:[Object(y.jsx)(E.a,{name:"download"}),"Add Torrent"]}),children:[Object(y.jsx)(x.a.Header,{children:"Add Torrent"}),Object(y.jsx)(x.a.Content,{children:Object(y.jsx)(x.a.Description,{children:Object(y.jsxs)(f.a,{children:[Object(y.jsx)(f.a.Input,{placeholder:"Magnet or Torrent file URL",onChange:function(e){return j(e.target.value)}}),Object(y.jsx)(f.a.Input,{type:"file",accept:".torrent",onChange:function(e){var t,n;return O(null!==(t=null===(n=e.target.files)||void 0===n?void 0:n.item(0))&&void 0!==t?t:void 0)}})]})})}),Object(y.jsxs)(x.a.Actions,{children:[Object(y.jsx)(m.a,{content:"Cancel",color:"red",onClick:function(){return c(!1)}}),Object(y.jsx)(m.a,{content:"Add (all files)",labelPosition:"left",icon:"download",color:"yellow",onClick:function(){return p("/torrents/add",[["all","1"]])}}),Object(y.jsx)(m.a,{content:"Add",labelPosition:"left",icon:"download",color:"blue",onClick:function(){return p("/torrents/add")}}),Object(y.jsx)(m.a,{content:"Stream",labelPosition:"left",icon:"play",color:"green",onClick:function(){return p("/playuri")}})]})]})},Y=n(156),X=n(213),Z=n(150),$=n(132),ee=n(133);!function(e){e[e.StatusQueued=0]="StatusQueued",e[e.StatusChecking=1]="StatusChecking",e[e.StatusFinding=2]="StatusFinding",e[e.StatusDownloading=3]="StatusDownloading",e[e.StatusFinished=4]="StatusFinished",e[e.StatusSeeding=5]="StatusSeeding",e[e.StatusAllocating=6]="StatusAllocating",e[e.StatusStalled=7]="StatusStalled",e[e.StatusPaused=8]="StatusPaused",e[e.StatusBuffering=9]="StatusBuffering",e[e.StatusPlaying=10]="StatusPlaying"}(K||(K={}));var te=function(e){var t=e.torrent,n=e.isSelected,c=e.onSetActiveTorrents,r=t.status_code!==K.StatusFinished&&t.status_code!==K.StatusPaused,a=function(){var e=Object(l.a)(o.a.mark((function e(n,c){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),r=c.active,a=r?"pause":"resume",e.next=5,fetch("/torrents/".concat(a,"/").concat(t.id));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(l.a)(o.a.mark((function e(n,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),e.next=3,fetch("/playuri?resume=".concat(t.id));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(V.a.Row,{onClick:function(e){e.ctrlKey?c((function(e){var n=e.findIndex((function(e){return e.id===t.id}));return-1===n?[].concat(Object(Y.a)(e),[t]):e.filter((function(e,t){return t!==n}))})):c(n?[]:[t])},active:n,children:[Object(y.jsxs)(V.a.Cell,{children:[Object(y.jsx)("span",{title:t.name,children:t.name}),Object(y.jsx)(X.a,{percent:t.progress,title:"".concat(t.progress.toFixed(2),"%"),autoSuccess:!0,indicating:r,size:"tiny"})]}),Object(y.jsx)(V.a.Cell,{textAlign:"center",children:Object(y.jsxs)(v.a,{color:r?"green":void 0,children:[t.size,Object(y.jsx)(v.a.Detail,{children:t.status})]})}),Object(y.jsx)(V.a.Cell,{children:Object(y.jsxs)(Z.a,{size:"mini",widths:"2",children:[Object(y.jsx)(_.a,{value:t.ratio.toFixed(2),label:"Seed ratio"}),Object(y.jsx)(_.a,{value:"".concat(t.time_ratio.toFixed(2)),label:"Time ratio"})]})}),Object(y.jsx)(V.a.Cell,{children:Object(y.jsxs)(Z.a,{widths:"2",size:"mini",children:[Object(y.jsxs)(_.a,{children:[Object(y.jsxs)($.a,{children:[Object(y.jsx)(E.a,{name:"arrow down",size:"small"})," ".concat(t.download_rate.toFixed(2))]}),Object(y.jsx)(ee.a,{children:"kB/s"})]}),Object(y.jsxs)(_.a,{children:[Object(y.jsxs)($.a,{children:[Object(y.jsx)(E.a,{name:"arrow up",size:"small"})," ".concat(t.upload_rate.toFixed(2))]}),Object(y.jsx)(ee.a,{children:"kB/s"})]})]})}),Object(y.jsx)(V.a.Cell,{children:Object(y.jsxs)(Z.a,{widths:"2",size:"mini",children:[Object(y.jsx)(_.a,{value:"".concat(t.seeders," / ").concat(t.seeders_total),label:"Active / Total"}),Object(y.jsx)(_.a,{value:"".concat(t.peers," / ").concat(t.peers_total),label:"Active / Total"})]})}),Object(y.jsx)(V.a.Cell,{textAlign:"center",children:Object(y.jsxs)(m.a.Group,{basic:!0,fluid:!0,size:"tiny",children:[Object(y.jsx)(m.a,{icon:r?"pause":"download",toggle:!0,active:r,onClick:a}),Object(y.jsx)(m.a,{icon:"play",onClick:i,title:"Play in Kodi"})]})})]})})},ne=r.a.memo(te,d.a),ce={column:null,data:[],direction:void 0};function re(e,t){switch(t.type){case"CHANGE_SORT":var n;return n=e.column===t.column&&"asc"===e.direction?"desc":"asc",Object(k.a)(Object(k.a)({},e),{},{column:t.column,data:Object(L.a)(e.data,[t.column,"name"],[n,"asc"]),direction:n});case"UPDATE_TORRENTS":return Object(k.a)(Object(k.a)({},e),{},{data:e.column&&e.direction?Object(L.a)(t.torrents,[e.column,"name"],[e.direction,"asc"]):t.torrents});default:throw new Error}}var ae=function(e){return"asc"===e?"ascending":"descending"},ie=function(e){var t=e.torrents,n=e.activeTorrents,r=e.onSetActiveTorrents,a=Object(c.useReducer)(re,ce),i=Object(u.a)(a,2),s=i[0],o=i[1],l=s.column,j=s.data,d=s.direction;return Object(c.useEffect)((function(){o({type:"UPDATE_TORRENTS",torrents:t})}),[t]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(V.a,{compact:"very",size:"small",stackable:!0,fixed:!0,singleLine:!0,selectable:!0,sortable:!0,children:[Object(y.jsx)(V.a.Header,{className:"mobile-hidden",children:Object(y.jsxs)(V.a.Row,{children:[Object(y.jsx)(V.a.HeaderCell,{width:"11",sorted:"name"===l?ae(d):void 0,onClick:function(){return o({type:"CHANGE_SORT",column:"name"})},children:"Name"}),Object(y.jsx)(V.a.HeaderCell,{width:"4",sorted:"size"===l?ae(d):void 0,onClick:function(){return o({type:"CHANGE_SORT",column:"size"})},children:"Size / Status"}),Object(y.jsx)(V.a.HeaderCell,{width:"5",sorted:"ratio"===l?ae(d):void 0,onClick:function(){return o({type:"CHANGE_SORT",column:"ratio"})},children:"Ratios"}),Object(y.jsx)(V.a.HeaderCell,{width:"5",sorted:"download_rate"===l?ae(d):void 0,onClick:function(){return o({type:"CHANGE_SORT",column:"download_rate"})},children:"Rates"}),Object(y.jsx)(V.a.HeaderCell,{width:"5",sorted:"seeders"===l?ae(d):void 0,onClick:function(){return o({type:"CHANGE_SORT",column:"seeders"})},children:"Seeds / Peers"}),Object(y.jsx)(V.a.HeaderCell,{width:"3"})]})}),Object(y.jsx)(V.a.Body,{children:j.map((function(e){return Object(y.jsx)(ne,{torrent:e,onSetActiveTorrents:r,isSelected:n.some((function(t){return t.id===e.id}))},e.id)}))}),Object(y.jsx)(V.a.Footer,{fullWidth:!0,children:Object(y.jsx)(V.a.Row,{children:Object(y.jsxs)(V.a.HeaderCell,{colSpan:11,children:[Object(y.jsx)(W,{}),Object(y.jsx)(J,{torrents:n})]})})})]})})},se=n(134),oe=n.n(se),le=n(210),ue=n(214),je=n(148),de=n(93),be=n(152),he=n(151),Oe=function(e){var t=e.pieces,n=Object(c.useRef)(null),r=Object(c.useRef)(null),a=Object(he.a)({ref:r}).width,i=Object(be.useDebounce)(a,100),s=Object(u.a)(i,1)[0];return Object(c.useEffect)((function(){if(s){var e=n.current;if(e){var c=e.getContext("2d");if(c){var a=r.current;a&&function(e,t,n){var c=e.clientWidth,r=Math.floor(c/9),a=9*Math.ceil(n.length/r),i=t.canvas;i.width=c,i.height=a+30;for(var s=0;s<n.length;s+=1){var o=void 0;switch(n[s]){case"+":o="#4CAF50";break;case"-":o="#F0B8B8";break;default:o="#ECEFF1"}t.fillStyle=o,t.fillRect(s%r*9,9*Math.floor(s/r),8,8)}!function(e,t){var n=e.canvas.height-t/2;e.font="12px sans-serif";var c=10.4,r=function(t,r,a){e.fillStyle=t,e.fillRect(r,n,c,c),e.fillStyle="black",e.fillText(a,r+16,n+c)};r("#4CAF50",0,"- Done"),r("#ECEFF1",70,"- Queued"),r("#F0B8B8",170,"- Not selected")}(t,30)}(a,c,t)}}}}),[t,s]),Object(y.jsx)("div",{ref:r,children:Object(y.jsx)("canvas",{ref:n})})},xe=function(e){var t=function(e){var t={};return e.forEach((function(e){for(var n=t,c=0;c<e.length;c+=1){var r=e[c];r in n||(n[r]={}),n=n[r]}})),t}(e);return Object(y.jsx)(le.a,{children:Object(y.jsx)(le.a.Item,{children:Object(y.jsx)(le.a.Content,{children:function e(t){return Object.keys(t).map((function(n){var c=Object.keys(t[n]).length>0;return Object(y.jsx)(le.a.List,{children:Object(y.jsxs)(le.a.Item,{children:[Object(y.jsx)(le.a.Icon,{name:c?"folder":"file"}),Object(y.jsxs)(le.a.Content,{children:[c?Object(y.jsx)(le.a.Header,{children:n}):Object(y.jsx)(le.a.Description,{children:n}),e(t[n])]})]})},n)}))}(t)})})})},fe=function(e){var t=e.torrent,n=Object(c.useState)([]),r=Object(u.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(""),j=Object(u.a)(s,2),d=j[0],b=j[1],h=Object(c.useState)(!0),O=Object(u.a)(h,2),x=O[0],f=O[1];Object(c.useEffect)((function(){f(!0);var e=function(){var e=Object(l.a)(o.a.mark((function e(){var n,c,r,a,s,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new RegExp("Files.+?:\\s+(?<files>.+?)\\n\\n.+?Pieces:\\s+(?<pieces>.+?)\\n\\n","gs"),e.next=3,fetch("/info?torrentid=".concat(t.id,"&pieces=true&trackers=false"));case 3:return c=e.sent,e.next=6,c.text();case 6:if(r=e.sent,(a=n.exec(r))&&a.groups){e.next=10;break}return e.abrupt("return");case 10:s=a.groups,l=s.files,u=s.pieces,i(l.split("\n").map((function(e){return e.trim()}))),b(u.split("\n").map((function(e){return e.trim()})).join("")),f(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var n=setInterval((function(){e()}),S());return function(){return clearInterval(n)}}),[t.id]);var p=[{menuItem:{key:"general",content:"General"},render:function(){return Object(y.jsx)(ue.a.Pane,{children:Object(y.jsx)(R.a,{children:Object(y.jsx)(je.a,{children:Object(y.jsxs)(de.a,{children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("b",{children:"Name:"})," ",t.name]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("b",{children:"Size:"})," ",t.size]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("b",{children:"Completed:"})," ",t.progress.toFixed(2),"%"]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("b",{children:"Seed time:"})," ",t.seeding_time]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("b",{children:"Seed time limit:"})," ",t.seed_time_limit,"s"]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("b",{children:"Total download:"})," ",oe()(t.total_download)]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("b",{children:"Total upload:"})," ",oe()(t.total_upload)]})]})})})})}},{menuItem:{key:"files",content:"Files"},render:function(){return Object(y.jsx)(ue.a.Pane,{loading:x,children:Object(y.jsx)(R.a,{children:Object(y.jsx)(je.a,{children:Object(y.jsx)(de.a,{children:xe(a.map((function(e){return e.split("/")})))})})})})}},{menuItem:{key:"pieces",content:"Pieces"},render:function(){return Object(y.jsx)(ue.a.Pane,{loading:x,children:Object(y.jsx)(Oe,{pieces:d})})}}];return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(ue.a,{panes:p})})};n(183),n(184);var pe=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(u.a)(a,2),s=i[0],j=i[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/torrents/list");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r((function(e){return d()(e,n)?e:n}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var t=setInterval((function(){e()}),S());return function(){return clearInterval(t)}}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{}),Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)(M,{totalDownloadRate:n.reduce((function(e,t){return e+t.download_rate}),0),totalUploadRate:n.reduce((function(e,t){return e+t.upload_rate}),0),active:n.filter((function(e){return e.status_code!==K.StatusFinished})).length,finished:n.filter((function(e){return e.status_code===K.StatusFinished})).length,total:n.length}),Object(y.jsx)(ie,{torrents:n,onSetActiveTorrents:j,activeTorrents:s}),s.length>0&&Object(y.jsx)(fe,{torrent:s[s.length-1]})]})]})};i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(pe,{})}),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.67f6c1a5.chunk.js.map